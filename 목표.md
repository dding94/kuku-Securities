# 🎯 Kuku Securities 프로젝트 목표 (v3)

> **목표:** 3개월(12주) 동안 자바 스프링 기반의 모의 증권 트레이딩 시스템을 구현하여,  
> **증권 서버 개발자로 합격할 수 있을 만큼의 도메인 이해와 문제 해결 능력을 증명한다.**

---

## 1. 이 프로젝트가 증명해야 하는 것

이 프로젝트를 통해 "이 지원자는 바로 실무 투입해도 되겠다"라고 느끼도록 다음 역량을 보여줘야 한다.

1. **도메인 이해**
   - 주문 → 체결 → 원장 → 포지션/포트폴리오로 이어지는 **트레이딩 플로우**를 이해하고 구현할 수 있는가?
   - **정합성, 실시간성, 규제/업무 제약**을 어느 정도 고려하고 있는가?

2. **엔지니어링 역량**
   - Java / Spring / MySQL / Redis / Kafka 등 **실제 증권과 유사한 스택**을 깊이 있게 활용했는가?
   - **MSA + 이벤트 기반 아키텍처**를 이해하고, 적절한 수준에서 설계·구현할 수 있는가?
   - 성능/동시성/장애 상황에 대해 **실험하고 개선한 흔적**이 있는가?

3. **문제 해결 스토리**
   - "무슨 문제가 있었고, 어떻게 가설을 세우고, 어떤 실험을 했고, 어떤 결론에 도달했는지"를 **논리적으로 설명**할 수 있는가?
   - README, ADR, 로그, 테스트 코드 등으로 **사고 과정이 남아 있는가?**

4. **협업 가능한 개발자 이미지**
   - 코드 구조, 문서, 커밋/이슈 관리가 **다른 사람이 보기에도 이해하기 쉬운 수준**인가?
   - "혼자 장인처럼"이 아니라, **팀에서 함께 일할 수 있는 사람처럼 정리되어 있는가?**

---

## 2. 프로젝트 핵심 가치

### 2.1 Why-Driven Engineering

- 단순히 "할 줄 안다"가 아닌, **"왜 이 선택을 했는지"**를 설명할 수 있어야 한다.
- 모든 주요 결정에 대해 **대안 비교와 Trade-off**를 기록한다.
  - 예:  
    - MySQL vs MongoDB (원장 시스템에는 왜 MySQL이 더 적합했는가?)  
    - Monolith vs MSA (개인 프로젝트에서 굳이 MSA를 택한 이유는?)  
    - REST vs gRPC vs Kafka 이벤트 (서비스 간 통신과 비동기 처리의 역할 분리)

**실행 계획**
- `/docs/adr/ADR-XXX-*.md` 형태로 **Architecture Decision Record** 작성.
- README에 **"주요 기술 선택 요약" 섹션**을 두고 ADR 링크 연결.

---

### 2.2 Resilience (회복 탄력성)

- 네트워크, 외부 API, 메시지 브로커, DB 등 **어디서든 장애가 날 수 있다**는 전제로 설계.
- 장애 상황에서:
  - **데이터가 꼬이지 않고**
  - **Unknown 상태를 인지하고**
  - **사후 복구·재처리가 가능**해야 한다.

**실행 계획** → Week 4, Week 12에 반영
1. Kafka 다운, 시세 API 지연, DB Lock 경쟁 등 **장애 시나리오를 일부러 발생**시켜본다. → **Week 4**
2. Unknown 상태를 위한 **중간 상태(예: PENDING / UNKNOWN)**를 정의한다. → **Week 3**
3. 이를 **나중에 동기화하는 배치/재처리 로직**을 일부라도 구현/시뮬레이션한다. → **Week 12**

---

### 2.3 Data Integrity (데이터 무결성)

- 금융 도메인에서 가장 중요한 것은 **"돈이 안 틀리는 것"**이다.
- 원장(Ledger) 서비스는 **단일 진실 공급원(Single Source of Truth)**로 동작해야 한다.

**실행 계획** → Week 2~4에 반영
- **이중부기(Double Entry)** 적용 → **Week 2**
- **역분개(Reversal)** 패턴 적용 → **Week 3**
- 트랜잭션 격리 수준/동시성 테스트 → **Week 4**

---

### 2.4 High Concurrency (고동시성)

- 대규모 트래픽과 주문 폭주 상황에서도 동시성 이슈(Race Condition)를 완벽하게 제어한다.
- 재고(예수금/주식) 차감 시 발생할 수 있는 동시성 문제를 다양한 전략으로 실험하고 해결한다.

**실행 계획** → Week 6에 반영
- Optimistic Lock vs Pessimistic Lock vs Redis Distributed Lock 성능 비교. → **Week 6**
- 동일 계좌에 동시에 100건 이상의 주문을 보내는 테스트 코드 작성. → **Week 6**
- 각 전략의 장단점을 **테스트 결과와 함께 ADR에 기록**. → **Week 6**

---

## 3. 시스템 아키텍처 (MSA)

각 도메인은 독립적인 배포와 확장이 가능한 마이크로서비스로 구성된다.

| 서비스 | 역할 |
|--------|------|
| **Core Ledger** | 계좌, 예수금, 주식 잔고를 관리하는 **Source of Truth**. 이중 부기 원칙 준수. |
| **Order System** | 매수/매도 주문 접수, 주문 상태 관리. 멱등성(Idempotency)의 핵심. |
| **Matching Engine** | 외부 시세(Quote)를 기반으로 주문을 모의 체결. MARKET/LIMIT 주문 지원. |
| **Market Data** | 실제 거래소 시세를 수신하고, Quote/Candle로 표준화하여 브로드캐스팅. |
| **Reference** | 종목(Symbol), 거래소(Exchange), 외부 심볼 매핑 관리. |
| **Portfolio** | 계좌별 보유 종목, 평단가, 평가 손익 계산/제공. |
| **API Gateway** | 인증/인가, Rate Limiting, 라우팅. 단일 진입점. |

---

## 4. 12주 상세 로드맵

### Phase 1: The Foundation & The Ledger (원장 시스템)
> "돈은 거짓말하지 않는다"

---

#### Week 1: 프로젝트 셋업 및 MSA 기반 마련

**구현**
- [x] Multi-module Gradle 구성 (Domain, API, Common).
- [x] Docker Compose & Kubernetes 로컬 환경 구성.
- [x] CI/CD 파이프라인 구축 (Github Actions).
- [x] **[ADR]** Monolithic vs MSA: 초기 단계에서 MSA를 선택한 이유와 비용 분석.

**문서화**
- [x] **[Diagram]** C4 Context Diagram 초안 작성 (시스템 경계 및 외부 액터 정의).

---

#### Week 2: 원장(Ledger) 도메인 설계 및 DB 모델링

**구현**
- [x] 이중 부기 데이터 모델 설계 (Account, Transaction, JournalEntry, Balance).
- [x] AccountType (USER_CASH, USER_SECURITIES, SYSTEM_FEE, SYSTEM_PNL 등) 설계.
- [x] TransactionType / businessRefId (주문/체결/입금 등과의 연결) 설계.
- [x] MySQL 테이블 설계 및 인덱스 전략.
- [x] **[ADR]** MySQL vs MongoDB: 금융 데이터 처리에 적합한 DB 선택.

**문서화**
- [x] **[Diagram]** Ledger 도메인 ERD 작성.
- [x] **[Diagram]** C4 Container Diagram (Ledger 서비스 중심).

---

#### Week 3: 원장 정합성 구현 (Transaction & Isolation)

**구현**
- [x] 입출금, 자산 이동 트랜잭션 구현.
- [x] TransactionStatus 및 reversal(역분개) 패턴 적용.  
  (POSTED / REVERSED / PENDING + reversalOfTransactionId)
- [x] 트랜잭션 격리 수준(Isolation Level)에 따른 동시성 테스트.
- [x] **[Deep Dive]** Spring `@Transactional`의 동작 원리와 주의점.

**문서화**
- [x] **[Diagram]** 입출금 트랜잭션 Sequence Diagram.
- [x] **[Diagram]** 역분개 플로우 다이어그램.

**회고**
- [ ] Week 3 회고 작성 (`/docs/retrospectives/week-03.md`)

---

#### Week 4: 원장 시스템 검증 테스트

**구현**
- [ ] **[Resilience]** PENDING/UNKNOWN 중간 상태 정의 및 구현.
  - PENDING → POSTED 2단계 전환 로직
  - UNKNOWN 상태 감지 기준 정의 (Timeout, Exception 등)
- [ ] 동시성 테스트 (동일 계좌 동시 입출금 시 정합성 검증).
- [ ] 대량 데이터 처리 성능 테스트.
- [ ] Ledger 이벤트(Outbox + Kafka) 설계:  
  LedgerPostedEvent 기반으로 다른 서비스와의 연동 포인트 확보.
- [ ] **[Resilience]** Optimistic Lock 실패 처리 전략 구현.
  - 재시도 로직 (RetryTemplate 또는 @Retryable)
  - 클라이언트 에러 응답 표준화 (409 Conflict 등)
- [ ] **[Resilience]** 장애 시나리오 테스트:
  - DB Lock 경쟁 시나리오
  - Kafka 다운 시 Outbox 패턴 검증
  - 시세 API 지연 시나리오

**문서화**
- [ ] **[Diagram]** Ledger 이벤트 흐름도 (Outbox → Kafka → Consumer).
- [ ] **[Diagram]** C4 Component Diagram (Ledger 내부 구조).

**회고**
- [ ] Week 4 회고 작성 (`/docs/retrospectives/week-04.md`)

---

### Phase 2: The Order System & Simulation
> "폭주하는 트래픽을 견디면서, 모의투자하라"

---

#### Week 5: 주문 상태 머신(State Machine) 설계

**구현**
- [ ] 주문 생명주기 관리:  
  CREATED → VALIDATED → FILLED / REJECTED / CANCELLED.
- [ ] 상태 패턴(State Pattern) 적용 및 코드 유연성 확보.
- [ ] 기본 Validation:
  - 예수금 부족, 보유 수량 부족 시 REJECT
  - 장 운영 시간 위반 시 REJECT

**문서화**
- [ ] **[Diagram]** 주문 상태 머신 다이어그램 (State Machine).
- [ ] **[Diagram]** 주문 API Sequence Diagram.

**회고**
- [ ] Week 5 회고 작성 (`/docs/retrospectives/week-05.md`)

---

#### Week 6: 동시성 제어 전략 (Concurrency Control)

**구현**
- [ ] 재고(예수금/주식) 차감 시 Race Condition 해결.
- [ ] **[Experiment]**  
  Optimistic Lock vs Pessimistic Lock vs Redis Distributed Lock 성능 비교.
- [ ] 동일 계좌에 동시에 100건 이상의 주문을 보내는 테스트 코드 작성.
- [ ] **[ADR]** 상황별 최적의 락킹 전략 선정.

**문서화**
- [ ] Lock 전략 비교 실험 결과 문서화 (`/docs/experiments/lock-strategy.md`).

**회고**
- [ ] Week 6 회고 작성 (`/docs/retrospectives/week-06.md`)

---

#### Week 7: Matching Engine 구현

**구현**
- [ ] v1: 현재 시세 기준 **즉시 체결 가정** (Limit 주문).
- [ ] **Market 주문(시장가)** 구현: 최우선 호가로 즉시 전량 체결.
- [ ] **기본 수수료 계산** 구현:
  - 체결 금액 × 0.015% (매수/매도 각각).
  - 수수료를 SYSTEM_FEE 계정에 JournalEntry로 기록.
- [ ] v2(선택): 간단한 Order Book 구조 도입 & 가격/시간 우선 체결.
- [ ] Trade → Ledger → Position으로 이어지는 도메인 연동 플로우 정립.
- [ ] **[Week 4에서 이관]** `DepositService`, `WithdrawService`에 PENDING 모드 옵션 추가  
  - 외부 체결 결과 대기 시 PENDING 상태로 생성 → 확정 시 `ConfirmTransactionUseCase` 호출

**문서화**
- [ ] **[Diagram]** 주문 → 체결 → 원장 → 포지션 Event Flow Diagram.
- [ ] **[Diagram]** C4 Container Diagram 업데이트 (Order + Matching + Ledger).

**회고**
- [ ] Week 7 회고 작성 (`/docs/retrospectives/week-07.md`)

---

#### Week 8: 멱등성(Idempotency) 및 중복 주문 방지

**구현**
- [ ] 네트워크 타임아웃으로 인한 재시도 시 중복 결제/주문 방지.
- [ ] Idempotency Key 패턴 구현.
- [ ] 멱등성과 동시성 제어 전략을 결합한 주문 처리 플로우 정리.

**문서화**
- [ ] **[Diagram]** 멱등성 처리 Sequence Diagram (재시도 시나리오).

**회고**
- [ ] Week 8 회고 작성 (`/docs/retrospectives/week-08.md`)

---

### Phase 3: Portfolio & Real-time Market Data
> "내 계좌가 얼마나 벌었는지, 실시간으로 알 수 있다"

---

#### Week 9: 포트폴리오/포지션 서비스 구현

**구현**
- [ ] 계좌별 보유 종목, 수량, 평균 매입가 계산.
- [ ] 평가금액, 평가손익, 수익률 계산 (기초 버전).
- [ ] Trade/원장 데이터로부터 **포지션 재계산** 가능하도록 설계.

**문서화**
- [ ] **[Diagram]** Portfolio 도메인 ERD.
- [ ] **[Diagram]** 포지션 재계산 플로우 다이어그램.

**회고**
- [ ] Week 9 회고 작성 (`/docs/retrospectives/week-09.md`)

---

#### Week 10: Market Data 서비스 & Reference 도메인

**구현**
- [ ] 한국투자증권 KIS Developers API 연동 (모의투자 모드).
  - OAuth 인증 및 토큰 갱신 로직 구현.
  - 모의투자 계좌 설정.
- [ ] 종목(Symbol), 거래소(Exchange) 도메인 설계.
- [ ] Quote/Candle 공통 도메인 모델 설계.
- [ ] 국내 주식 실시간 시세 WebSocket 연동.

**문서화**
- [ ] **[Diagram]** Reference 도메인 ERD.
- [ ] **[Diagram]** Market Data 수집 플로우 (외부 API → 내부 모델 변환).

**회고**
- [ ] Week 10 회고 작성 (`/docs/retrospectives/week-10.md`)

---

#### Week 11: 실시간 시세 처리 (WebSocket)

**구현**
- [ ] Netty / Spring WebFlux를 이용한 WebSocket 서버 구축.
- [ ] 수천 명의 클라이언트에게 실시간 호가 브로드캐스팅.
- [ ] 평가손익에 실시간 시세 연동.
- [ ] **[Network Programming]** Netty EventLoop, TCP/IP 튜닝 (Nagle, Keep-alive 등).

**문서화**
- [ ] **[Diagram]** WebSocket 브로드캐스팅 아키텍처 다이어그램.
- [ ] **[Diagram]** C4 Container Diagram 최종 버전 (전체 시스템).

**회고**
- [ ] Week 11 회고 작성 (`/docs/retrospectives/week-11.md`)

---

### Phase 4: Resilience & Quality
> "실패는 일상이다"

---

#### Week 12: 분산 시스템 안정성 & 최종 정리

**구현**
- [ ] Circuit Breaker, Retry, Rate Limiter 적용 (Resilience4j).
- [ ] **[Resilience]** Unknown 상태 처리 로직 (외부 시스템 응답 지연/타임아웃 시).
- [ ] **[Resilience]** 장애 복구 배치/재처리 로직 시뮬레이션.
- [ ] Kafka를 이용한 Eventual Consistency 구현 (주문 체결 → 원장 반영 → 포지션 업데이트).
- [ ] 동시성/부하 테스트 (k6/nGrinder) & Throughput(TPS), Latency 측정.

**문서화**
- [ ] **[Diagram]** 장애 복구 플로우 다이어그램.
- [ ] **[Diagram]** 전체 시스템 Event Flow Diagram (최종 버전).
- [ ] README/ADR/Docs 정리 → **"면접에서 이야기할 스토리"** 위주로 정리.

**회고**
- [ ] Week 12 최종 회고 작성 (`/docs/retrospectives/week-12.md`)
  - 프로젝트 전체 회고 및 배운 점 정리

---

## 5. 다이어그램 산출물 목록

프로젝트 진행 중 작성해야 할 다이어그램 목록:

| 주차 | 다이어그램 종류 | 설명 | 경로 |
|------|-----------------|------|------|
| Week 1 | C4 Context | 시스템 경계 및 외부 액터 | `/docs/diagrams/c4-context.md` |
| Week 2 | ERD | Ledger 도메인 | `/docs/diagrams/ledger-erd.md` |
| Week 2 | C4 Container | Ledger 서비스 중심 | `/docs/diagrams/c4-container-v1.md` |
| Week 3 | Sequence | 입출금 트랜잭션 | `/docs/diagrams/deposit-sequence.md` |
| Week 3 | Flow | 역분개 플로우 | `/docs/diagrams/reversal-flow.md` |
| Week 4 | Flow | Ledger 이벤트 흐름 | `/docs/diagrams/ledger-event-flow.md` |
| Week 4 | C4 Component | Ledger 내부 구조 | `/docs/diagrams/c4-component-ledger.md` |
| Week 5 | State Machine | 주문 상태 | `/docs/diagrams/order-state-machine.md` |
| Week 5 | Sequence | 주문 API | `/docs/diagrams/order-api-sequence.md` |
| Week 7 | Event Flow | 주문→체결→원장→포지션 | `/docs/diagrams/trading-event-flow.md` |
| Week 7 | C4 Container | Order + Matching + Ledger | `/docs/diagrams/c4-container-v2.md` |
| Week 8 | Sequence | 멱등성 처리 | `/docs/diagrams/idempotency-sequence.md` |
| Week 9 | ERD | Portfolio 도메인 | `/docs/diagrams/portfolio-erd.md` |
| Week 10 | ERD | Reference 도메인 | `/docs/diagrams/reference-erd.md` |
| Week 10 | Flow | Market Data 수집 | `/docs/diagrams/market-data-flow.md` |
| Week 11 | Architecture | WebSocket 브로드캐스팅 | `/docs/diagrams/websocket-architecture.md` |
| Week 11 | C4 Container | 전체 시스템 (최종) | `/docs/diagrams/c4-container-final.md` |
| Week 12 | Flow | 장애 복구 플로우 | `/docs/diagrams/failure-recovery-flow.md` |
| Week 12 | Event Flow | 전체 시스템 (최종) | `/docs/diagrams/system-event-flow-final.md` |

---

## 6. 기능 범위 & 우선순위

> **모든 걸 다 하려다 얕아지지 말 것.**  
> "증권 실무와 직결되는 플로우를 깊게" 구현하는 것을 목표로 한다.

### 1순위: 주문 → 체결 → 원장 End-to-End 플로우 (Week 1~8)

**반드시 완성해야 하는 핵심 기능**
- 매수/매도 **Limit 주문** API
- 주문 상태: CREATED / FILLED / REJECTED / CANCELLED
- 체결 결과(Trade 이벤트)를 받아 현금/종목 계좌 변경
- 모든 변경을 **이중부기 JournalEntry**로 기록

### 2순위: 포트폴리오 & 평가손익 (Week 9)

- 계좌별 보유 종목, 평균 매입가, 평가손익 조회 API

### 3순위: 실시간 시세 파이프라인 (Week 10~11)

- 외부 시세 수집 → 내부 가공 → WebSocket 브로드캐스팅

### 4순위 (선택): 도메인/운영 고도화

- 예수금 입출금 (원장 기반)
- 주문 취소/정정
- 모니터링 대시보드 (Prometheus + Grafana, ELK)

---

## 7. 하지 않기로 한 것 (Out of Scope)

> 3개월이라는 제한된 시간 안에 깊이 있는 구현을 위해 **의도적으로 제외**한 항목들.

### 7.1 인프라/운영

| 제외 항목 | 이유 |
|-----------|------|
| **Kubernetes 프로덕션 배포** | Docker Compose로 로컬 개발 환경에 집중. K8s는 매니페스트만 준비. |
| **완전한 모니터링 시스템 구축** | Actuator + 기본 메트릭만. Grafana 대시보드는 선택 사항. |
| **멀티 리전 / DR 구성** | 단일 리전 기준 설계. |

### 7.2 도메인/기능

| 제외 항목 | 이유 |
|-----------|------|
| **실거래 (Real Trading)** | 한국투자증권 **모의투자 모드**만 사용. 실제 돈이 오가는 거래 제외. |
| **암호화폐 거래소 연동** | 국내 주식에 집중. Upbit/Binance 등 암호화폐는 제외. |
| **복잡한 Order Book 매칭** | 즉시 체결 가정. 가격/시간 우선순위 매칭은 선택 사항. |
| **사용자 인증/회원 관리** | JWT 토큰 발급을 통한 기본 API 인증만 구현. 회원가입, 소셜 로그인 등은 제외. |
| **장 시간 외 예약 주문 처리** | Reject만 구현. 예약 후 일괄 처리는 제외. |

### 7.3 품질/테스트

| 제외 항목 | 이유 |
|-----------|------|
| **E2E UI 테스트** | 백엔드 API 테스트에 집중. 프론트엔드 없음. |
| **카오스 엔지니어링 도구 (Chaos Monkey 등)** | 수동 장애 주입 테스트로 대체. |
| **100만 TPS 수준의 부하 테스트** | 합리적인 수준(수천 TPS)의 부하 테스트만. |

---

## 8. 품질, 운영, 문서 목표

### 8.1 테스트 전략

| 레벨 | 대상 |
|------|------|
| 단위 테스트 | 도메인 서비스 (주문 검증, 원장 잔고 계산 등) |
| 통합 테스트 | 주문 → 매칭 → 원장 → 포지션 End-to-End |
| 동시성/부하 테스트 | k6 또는 JMeter로 P95/P99 응답시간, 에러율 측정 |

### 8.2 관측성 & 로그

- **의미 있는 로그**: 문제 상황을 파악하는 데 도움이 되는 문장형 로그 작성.
- (선택) Actuator + Prometheus + Grafana: 상태 확인용 health, metrics endpoint 제공.

### 8.3 문서 & README 전략

- **메인 `README.md`**:
  - 프로젝트 목적
  - 전체 아키텍처 다이어그램
  - 핵심 기능 시나리오 설명
  - "어떤 문제를 어떻게 해결했는지" 섹션
  - 실행 방법 (Docker Compose 기준)
- **`/docs` 폴더**: 아키텍처 상세 설계, ADR 모음, 성능/부하 테스트 결과 요약
- **각 서비스별 `README.md`**: 해당 서비스의 책임, 주요 API 정리

### 8.4 주차별 회고

- 매주 회고 문서 작성: `/docs/retrospectives/week-XX.md`
- 회고 항목:
  - 🎯 이번 주 목표 달성도
  - ✅ 잘한 점 (Keep)
  - 🔧 개선할 점 (Problem)
  - 💡 시도해볼 것 (Try)
  - 📝 배운 점 / 기술 인사이트

---

## 9. 기술 스택

| 분류 | 기술 |
|------|------|
| Language | **Java 21** |
| Framework | **Spring Boot 3**, Spring Data JPA, (필요 시 Spring WebFlux) |
| DB | **MySQL (InnoDB)** – 원장/주문/포지션 |
| Cache/동시성 | **Redis** |
| 메시징 | **Kafka** |
| Infra | Docker, Docker Compose, (선택: K8s) |
| 관측성 | Spring Actuator, ELK/Prometheus-Grafana |

---

## 10. 성공 기준

### 10.1 기술/도메인

- [ ] 주문→체결→원장→포지션 플로우가 **일관된 데이터로 동작**한다.
- [ ] 동시 주문 테스트에서 **잔액/포지션이 꼬이지 않는 것**을 테스트로 증명한다.
- [ ] 최소 1개 이상의 **성능/동시성 이슈를 직접 발견-분석-개선한 사례**가 존재한다.

### 10.2 포트폴리오/문서

- [ ] README를 처음 읽는 사람이 "이게 어떤 시스템인지" 5분 안에 이해할 수 있다.
- [ ] 면접에서 **이 프로젝트만 가지고 30~40분 대화를 이어갈 수 있는 수준**의 스토리가 준비되어 있다.

---

## 11. 채용 공고 매핑 (Checklist)

- [ ] **Java, Spring Framework**: 프로젝트 전체 기반 기술.
- [ ] **합리적이고 효율적인 방식 선택 (Why)**: 모든 주차별 ADR 작성.
- [ ] **배포/운영/안정성/성능 고민**: CI/CD, Circuit Breaker, 부하 테스트, 튜닝.
- [ ] **Redis, Kafka, Kubernetes, ELK**: 해당 기술 스택 적극 활용.
- [ ] **대용량 트래픽/동시성 처리**: 주문 시스템 및 시세 처리에서 중점적으로 다룸.
- [ ] **실시간 데이터 처리**: WebSocket 및 Kafka 파이프라인.
- [ ] **끈기 있는 문제 해결**: "Unknown" 상태 처리 및 장애 테스트.
- [ ] **트레이딩 도메인 설계 경험**: 계좌, 주문, 체결, 포지션, 원장, 시세, 종목 분리 설계.

---

> 이 목표.md는 "무엇을 할 것인가"보다 **"왜 이걸 하고, 어디까지 깊게 들어갈 것인가"**에 초점을 맞춘다.  
> 12주 동안 이 문서를 기준점으로 삼아서, **증권사가 원하는 수준의 엔지니어링 스토리**를 만들어낸다.
